---
include: https://raw.githubusercontent.com/timmo001/organization/master/gitlab-ci/js-prebuild.yml

variables:
  GITHUB_REPO: "timmo001/home-panel"
  SLUG: "home-panel"
  TARGET: "."

  AARCH64: "true"
  AMD64: "true"
  ARMHF: "true"
  ARMV7: "false"
  I386: "true"

  LEGACY_TAGS: "false"

  PREFLIGHT_HADOLINT: "true"
  PREFLIGHT_JSONLINT: "true"
  PREFLIGHT_MARKDOWNLINT: "true"
  PREFLIGHT_SHELLCHECK: "true"
  PREFLIGHT_YAMLLINT: "true"
  PREFLIGHT_ESLINT: "true"
  PREFLIGHT_STYLELINT: "true"
  PUBLISH_RELEASE_FILE: "true"
  PAGES_MKDOCS: "true"

eslint:
  image: node:alpine
  before_script:
    - yarn add eslint
  script:
    - yarn eslint
